function the_figure(t,e,a,r,i){var n,s={top:60,right:35,bottom:30,left:50},l={left:20},o=["red","blue"],c=["untreated","healthy"],d=!1,f=$("body").width()<960?$("body").width()-s.left-l.left-s.right:960-s.left-l.left-s.right,p=.506*f,u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25];"yield"===a?(d=r,n="Yield (Tons / Acre)"):"netreturns"===a&&(d=i,n="Cumulative Discounted Net Returns (2013 dollars)");for(var g=t.length,h=0;g>h;h++)if(d){var y=t[h].substr(4),x=""!==e.pc?e.pc:"0",m="Year "+y,v="yield"===a?"Vineyard Yield (Tons per Acre) at Various Disease Control Efficacy Rates":"Cumulative Discounted Net Returns per Acre at Various Disease Control Efficacy Rates";m+="netreturns"===a?" Adoption of $"+x+" per Acre-Year Preventative Practice":" Preventative Practice Adoption","custom"!==e.region&&(m+=", "+e.region+" Region"),y&&(o=["yellowgreen","darkorchid","lightskyblue","red","blue"],c=["25y"+y,"50y"+y,"75y"+y,"untreated","healthy"]);var b=d3.scale.linear().range([0,f]),w=d3.scale.linear().range([p,0]),A=d3.svg.axis().scale(b).ticks(5).orient("bottom"),k=d3.svg.axis().scale(w).orient("left"),D=d3.svg.line().x(function(t){return b(t.x)}).y(function(t){return w(t.y)}).interpolate("linear");$(".figure-area").append('<section class="figure-wrapper" id="figure'+y+'"></section><p><a class="swipebox" href="#figure'+y+'"><i class="fa fa-search-plus" aria-hidden="true"></i> View fullscreen</a></p>');var R=d3.select("#figure"+y).append("svg").attr("width",f+s.left+l.left+s.right).attr("height",p+s.top+s.bottom).attr("id","figure"+y).append("g").attr("transform","translate("+parseInt(s.left+l.left)+","+s.top+")");b.domain(d3.extent(u)),w.domain(d3.extent(d.healthy,function(t){return t.y})),R.append("g").attr("class","x axis").attr("transform","translate(0,"+p+")").call(A),R.append("g").attr("class","y axis").call(k).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(n);for(var C in c)R.append("path").attr("d",D(d[c[C]])).attr("class","line").attr("stroke",o[C]).attr("stroke-width",2).attr("fill","none"),R.selectAll("dot").data(d[c[C]]).enter().append("circle").attr("r",3.5).attr("fill",o[C]).attr("cx",function(t){return b(t.x)}).attr("cy",function(t){return w(t.y)});R.append("text").attr("x",f/2).attr("y",0-3*s.top/4).attr("text-anchor","middle").style("font-size","1.1em").text(v),R.append("text").attr("x",f/2).attr("y",0-3*s.top/8).attr("text-anchor","middle").style("font-size","1em").text(m)}$(".figure-area svg").each(function(){$(this).after('<div class="legend"><img src="img/figures/legend.png" /><br /><span class="glossary-link hide-on-print"><a href="efficacy-information.html"><i class="fa fa-question-circle"></i> Disease control efficacy rate information</a></span></div>')}),0===g&&$(".figure-area").prepend('<p class="alert">To generate a figure, <a href="#" class="close-tab">close this tab</a> or return to the figure parameters form tab and select at least one year of practice adoption.</p>')}function type(t){return t.x=+t.x,t.y=+t.y,t}