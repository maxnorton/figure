function the_figure(t,e){var a=!1;if("yield"==$("input[name=figuredisplay]:checked").val()?a=t:"netreturns"==$("input[name=figuredisplay]:checked").val()&&(a=e),a){var r=$("input[name=yearfig]:checked").val(),n=[],l=[],i=[];switch(r){case"Year3":n=["healthy","25y3","50y3","75y3","untreated"];break;case"Year5":n=["healthy","25y5","50y5","75y5","untreated"];break;case"Year10":n=["healthy","25y10","50y10","75y10","untreated"]}console.log(n);var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],s={top:20,right:35,bottom:30,left:35},o={left:20};width=$("body").width()<960?$("body").width()-s.left-o.left-s.right:960-s.left-o.left-s.right,height=.506*width;var c=d3.scale.linear().range([0,width]),h=d3.scale.linear().range([height,0]),f=d3.svg.axis().scale(c).ticks(5).orient("bottom"),y=d3.svg.axis().scale(h).orient("left"),u=d3.svg.line().x(function(t){return c(t.x)}).y(function(t){return h(t.y)}).interpolate("linear"),p=d3.select(".figure-area").append("svg").attr("width",width+s.left+o.left+s.right).attr("height",height+s.top+s.bottom).append("g").attr("transform","translate("+parseInt(s.left+o.left)+","+s.top+")");for(var g in healthyYields)l[g]={x:g,y:a.healthy[g]};c.domain(d3.extent(d)),h.domain(d3.extent(l,function(t){return t.y})),p.append("g").attr("class","x axis").attr("transform","translate(0,"+height+")").call(f),p.append("g").attr("class","y axis").call(y).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Cumulative Discounted Net Returns (2013 dollars)"),p.append("path").attr("d",u(l)).attr("class","line").attr("stroke","blue").attr("stroke-width",2).attr("fill","none"),p.selectAll("dot").data(l).enter().append("circle").attr("r",3.5).attr("fill","blue").attr("cx",function(t){return c(t.x)}).attr("cy",function(t){return h(t.y)});for(var g in healthyYields)i[g]={x:g,y:a.untreated[g]};if(p.append("path").attr("d",u(i)).attr("class","line").attr("stroke","red").attr("stroke-width",2).attr("fill","none"),p.selectAll("dot").data(i).enter().append("circle").attr("r",3.5).attr("fill","red").attr("cx",function(t){return c(t.x)}).attr("cy",function(t){return h(t.y)}),r){var x=["yellowgreen","darkorchid","lightskyblue"];for(var g in x)p.append("path").attr("d",u(a[n[parseInt(g)+1]])).attr("class","line").attr("stroke",x[g]).attr("stroke-width",2).attr("fill","none"),p.selectAll("dot").data(a[n[parseInt(g)+1]]).enter().append("circle").attr("r",3.5).attr("fill",x[g]).attr("cx",function(t){return c(t.x)}).attr("cy",function(t){return h(t.y)})}}}function type(t){return t.x=+t.x,t.y=+t.y,t}