function the_figure(t,r,e){if("yields"==$("input[name=figuredisplay]:checked").val()){var a=$("input[name=efficacyOrYearfig]:checked").val()+"fig",n=$("input[name="+a+"]:checked").val(),l=[],i=[],c=[],o=[];switch(n){case"25":var d=[],s=[],y=[];l=[c,d,s,y,o],i=[null,"25y3","25y5","25y10","noAction"];break;case"50":var u=[],f=[],p=[];l=[c,u,f,p,o],i=[null,"50y3","50y5","50y10","noAction"];break;case"75":var h=[],x=[],g=[];l=[c,h,x,g,o],i=[null,"75y3","75y5","75y10","noAction"];break;case"Year3":var d=[],u=[],h=[];l=[c,d,u,h,o],i=[null,"25y3","50y3","75y3","noAction"];break;case"Year5":var s=[],f=[],x=[];l=[c,s,f,x,o],i=[null,"25y5","50y5","75y5","noAction"];break;case"Year10":var y=[],p=[],g=[];l=[c,y,p,g,o],i=[null,"25y10","50y10","75y10","noAction"]}var k=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25];for(var v in t)c[v]={x:v,y:t[v]};var b={top:20,right:35,bottom:30,left:35},m=$("body").width()<960?$("body").width()-b.left-b.right:960-b.left-b.right,w=.506*m,A=d3.scale.linear().range([0,m]),Y=d3.scale.linear().range([w,0]),O=d3.svg.axis().scale(A).ticks(5).orient("bottom"),S=d3.svg.axis().scale(Y).orient("left"),T=d3.svg.line().x(function(t){return A(t.x)}).y(function(t){return Y(t.y)}).interpolate("linear"),_=d3.select(".figure-area").append("svg").attr("width",m+b.left+b.right).attr("height",w+b.top+b.bottom).append("g").attr("transform","translate("+b.left+","+b.top+")");A.domain(d3.extent(k)),Y.domain(d3.extent(c,function(t){return t.y})),_.append("g").attr("class","x axis").attr("transform","translate(0,"+w+")").call(O),_.append("g").attr("class","y axis").call(S).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Yield (Tons/Acre)"),_.append("path").attr("d",T(c)).attr("class","line").attr("stroke","blue").attr("stroke-width",2).attr("fill","none"),_.selectAll("dot").data(c).enter().append("circle").attr("r",3.5).attr("fill","blue").attr("cx",function(t){return A(t.x)}).attr("cy",function(t){return Y(t.y)}),d3.tsv("yield-rates.tsv",function(r){for(var e in t)l[4][e]={x:e,y:t[e]*r[e][i[4]]/100};_.append("path").attr("d",T(l[4])).attr("class","line").attr("stroke","red").attr("stroke-width",2).attr("fill","none"),_.selectAll("dot").data(l[4]).enter().append("circle").attr("r",3.5).attr("fill","red").attr("cx",function(t){return A(t.x)}).attr("cy",function(t){return Y(t.y)});for(var e in t)l[1][e]={x:e,y:t[e]*r[e][i[1]]/100};_.append("path").attr("d",T(l[1])).attr("class","line").attr("stroke","yellowgreen").attr("stroke-width",2).attr("fill","none"),_.selectAll("dot").data(l[1]).enter().append("circle").attr("r",3.5).attr("fill","yellowgreen").attr("cx",function(t){return A(t.x)}).attr("cy",function(t){return Y(t.y)});for(var e in t)l[2][e]={x:e,y:t[e]*r[e][i[2]]/100};_.append("path").attr("d",T(l[2])).attr("class","line").attr("stroke","darkorchid").attr("stroke-width",2).attr("fill","none"),_.selectAll("dot").data(l[2]).enter().append("circle").attr("r",3.5).attr("fill","darkorchid").attr("cx",function(t){return A(t.x)}).attr("cy",function(t){return Y(t.y)});for(var e in t)l[3][e]={x:e,y:t[e]*r[e][i[3]]/100};_.append("path").attr("d",T(l[3])).attr("class","line").attr("stroke","lightskyblue").attr("stroke-width",2).attr("fill","none"),_.selectAll("dot").data(l[3]).enter().append("circle").attr("r",3.5).attr("fill","lightskyblue").attr("cx",function(t){return A(t.x)}).attr("cy",function(t){return Y(t.y)})})}else"netreturns"==$("input[name=figuredisplay]:checked").val()&&alert("Still working on net returns figure")}function type(t){return t.x=+t.x,t.y=+t.y,t}