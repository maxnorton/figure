function the_table(t,e,a,r,n,s,d,o,y,p,h,i,l){d3.tsv("yield-rates.tsv",function(f){var I=[],v=[],u=[],b=[],c=[],k=[],m=[],g=[],x=[],C=[],D=[],F=1/(1+t/100),w=[],E={},j={},M=[],A=[],B=[],N=[],T={healthy:null,untreated:null,"25y3":0,"50y3":0,"75y3":0,"25y5":0,"50y5":0,"75y5":0,"25y10":0,"50y10":0,"75y10":0},O={healthy:null,untreated:null,"25y3":0,"50y3":0,"75y3":0,"25y5":0,"50y5":0,"75y5":0,"25y10":0,"50y10":0,"75y10":0},_={healthy:0,untreated:1,"25y3":0,"50y3":0,"75y3":0,"25y5":0,"50y5":0,"75y5":0,"25y10":0,"50y10":0,"75y10":0},H={healthy:"Healthy, untreated",untreated:"Infected, untreated","25y3":"25% DCE treatment adopted year 3","25y5":"25% DCE treatment adopted year 5","25y10":"25% DCE treatment adopted year 10","50y3":"50% DCE treatment adopted year 3","50y5":"50% DCE treatment adopted year 5","50y10":"50% DCE treatment adopted year 10","75y3":"75% DCE treatment adopted year 3","75y5":"75% DCE treatment adopted year 5","75y10":"75% DCE treatment adopted year 10"},L=Object.keys(H);j.healthy=[],j.untreated=[],E.healthy=[],E.untreated=[];var P=[parseInt(o),parseInt(y),parseInt(p),parseInt(h),parseInt(i),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l)],R=[];for(var S in P)R[S]=P[S]*f[S].noAction/100,j.healthy[S]={x:S,y:P[S]},j.untreated[S]={x:S,y:R[S]};D=[e,a,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n];var U=[];for(S in R)U[S]=d*R[S]-D[S];var q=[];for(S in U){var z=Math.pow(F,S);q[S]=U[S]*z}var G=[q[0]];for(S=1;S<q.length;S++)G[S]=q[S]+G[S-1];var J=[d*P[0]-D[0]],K="-";for(S=1;S<P.length;S++){var z=Math.pow(F,S);J[S]=(d*P[S]-D[S])*z+J[parseInt(S-1)],J[S]>J[parseInt(S-1)]&&(K=S)}var Q=J[25]-G[25];Q=0>Q?"-$"+parseFloat(-1*Q).toFixed(2):"$"+parseFloat(Q).toFixed(2);var V=-1;for(S in J)if(J[S+1]>0){V=S;break}-1==V&&(V="Never breaks even",K="-"),w=[];for(S in J)w[S]=J[S]-G[S];for(var W=0;q[W]<0&&25>W;)W++;if(25==W)W="Untreated vineyard never profitable";else{for(;q[W]>0&&25>W;)W++;W-=1}var X='<hr /><h2>Results</h2><section class="figure-area"></section><h3>Output table</h3><table><thead><th><h4>Scenario</h4></th><th><h4>ACDNB</h4></th><th><h4>Breakeven age</h4></th><th><h4>Last profitable year</h4></th><th><h4>Breakeven probability</h4></th></thead><tbody>';X+="<tr><td>"+H.healthy+"</td><td>"+Q+"</td><td>"+V+"</td><td>"+K+"</td><td>0</td></tr>",X+="<tr><td>"+H.untreated+"</td><td>-</td><td>-</td><td>"+W+"</td><td>1</td></tr>";for(var Y=2;Y<L.length;Y++){for(var Z=L[Y],tt=parseInt(Z.substr(3)),et=[],at=0;tt>at;at++)et[at]=0;for(var at=tt;26>at;at++)et[at]=s;var rt=[];for(S in P)rt[S]=d*P[S]-D[S]-et[S];var nt=[];for(S in rt){var z=Math.pow(F,S);nt[S]=rt[S]*z}var st=[nt[0]];for(S=1;S<nt.length;S++)st[S]=nt[S]+st[S-1];for(S in st)E.healthy[S]={x:S,y:st[S]},E.untreated[S]={x:S,y:G[S]};M=[];for(S in P)M[S]=P[S]*f[S][Z]/100;var dt=L[Y];j[dt]=[];for(S in P)j[dt][S]={x:S,y:M[S]};A=[];for(S in M)A[S]=d*M[S]-D[S]-et[S];B=[];for(S in A){var z=Math.pow(F,S);B[S]=A[S]*z}for(N=[B[0]],S=1;S<B.length;S++)N[S]=B[S]+N[S-1];E[dt]=[];for(S in P)E[dt][S]={x:S,y:N[S]};for(C=[parseInt(et[0])],S=1;S<nt.length;S++)C[S]=parseInt(et[S])+parseInt(C[S-1]);var ot=[];for(S in N)ot[S]=N[S]-G[S];switch(Z){case"25y3":I=ot;break;case"25y5":v=ot;break;case"25y10":u=ot;break;case"50y3":b=ot;break;case"50y5":c=ot;break;case"50y10":k=ot;break;case"75y3":m=ot;break;case"75y5":g=ot;break;case"75y10":x=ot}for(S in N)if(N[S]>G[S]){T[Z]=S;break}for(0==T[Z]&&N[0]<=G[0]&&(T[Z]="Never breaks even"),O[Z]=Z.substr(3);A[parseInt(O[Z])+1]<=0&&parseInt(O[Z])<25;)O[Z]++;if(25==parseInt(O[Z]))O[Z]="Treatment never profitable";else for(;A[parseInt(O[Z])+1]>0&&parseInt(O[Z])<25;)O[Z]++;_[Z]=(J[25]-st[25])/(N[25]-st[25]-(G[25]-J[25])),_[Z]>1&&(_[Z]=1),_[Z]=_[Z].toFixed(3);var yt=null!=ot[25]?ot[25].toFixed(2):"-";"-"!=yt&&0>yt?yt="-$"+parseFloat(-1*yt).toFixed(2):"-"!=yt&&(yt="$"+parseFloat(yt).toFixed(2)),X+="<tr><td>"+H[Z]+"</td><td>"+yt+"</td><td>"+T[Z]+"</td><td>"+O[Z]+"</td><td>"+_[Z]+"</td></tr>"}X+='</tbody></table><p class="print-link"><a href="javascript:window.print()"><i class="fa fa-print" aria-hidden="true"></i> Print these results.</a></p><p class="adjust-link"><a href="#form" onclick="$(\'body,html\').stop(true,true).animate({scrollTop: $(\'#form\').offset().top - $(\'header\').height()}, \'500\', \'swing\');">Adjust parameters</a></p>',$(".results").html(X),the_figure(j,E),$("body,html").stop(!0,!0).animate({scrollTop:$("#results").offset().top-$("header").height()},"500","swing")})}