function the_table(t,e,a,r,n,s,d,o,y,p,h,i,l){d3.tsv("yield-rates.tsv",function(f){var I=[],u=[],v=[],c=[],b=[],k=[],m=[],g=[],x=[],C=[],D=[],F,w=1/(1+t/100),E=[],j={},M={},A=[],B=[],N=[],S=[],T={healthy:null,untreated:null,"25y3":0,"50y3":0,"75y3":0,"25y5":0,"50y5":0,"75y5":0,"25y10":0,"50y10":0,"75y10":0},O={healthy:null,untreated:null,"25y3":0,"50y3":0,"75y3":0,"25y5":0,"50y5":0,"75y5":0,"25y10":0,"50y10":0,"75y10":0},_={healthy:0,untreated:1,"25y3":0,"50y3":0,"75y3":0,"25y5":0,"50y5":0,"75y5":0,"25y10":0,"50y10":0,"75y10":0},H={healthy:"Healthy, untreated",untreated:"Infected, untreated","25y3":"25% DCE treatment adopted year 3","25y5":"25% DCE treatment adopted year 5","25y10":"25% DCE treatment adopted year 10","50y3":"50% DCE treatment adopted year 3","50y5":"50% DCE treatment adopted year 5","50y10":"50% DCE treatment adopted year 10","75y3":"75% DCE treatment adopted year 3","75y5":"75% DCE treatment adopted year 5","75y10":"75% DCE treatment adopted year 10"},L=Object.keys(H);M.healthy=[],M.untreated=[],j.healthy=[],j.untreated=[];var P=[parseInt(o),parseInt(y),parseInt(p),parseInt(h),parseInt(i),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l)],R=[];for(var U in P)R[U]=P[U]*f[U].noAction/100,M.healthy[U]={x:U,y:P[U]},M.untreated[U]={x:U,y:R[U]};D=[e,a,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n];var q=[];for(U in R)q[U]=d*R[U]-D[U];var z=[];for(U in q)F=Math.pow(w,U),z[U]=q[U]*F;var G=[z[0]];for(U=1;U<z.length;U++)G[U]=z[U]+G[U-1];var J=[d*P[0]-D[0]],K="-";for(U=1;U<P.length;U++)F=Math.pow(w,U),J[U]=(d*P[U]-D[U])*F+J[parseInt(U-1)],J[U]>J[parseInt(U-1)]&&(K=U);var Q=J[25]-G[25];Q=0>Q?"-$"+parseFloat(-1*Q).toFixed(2):"$"+parseFloat(Q).toFixed(2);var V=-1;for(U in J)if(J[U+1]>0){V=U;break}-1===V&&(V="Never breaks even",K="-"),E=[];for(U in J)E[U]=J[U]-G[U];for(var W=0;z[W]<0&&25>W;)W++;if(25===W)W="Untreated vineyard never profitable";else{for(;z[W]>0&&25>W;)W++;W-=1}var X='<hr /><h2>Results</h2><section class="figure-area"></section><h3>Output table</h3><table><thead><th><h4>Scenario</h4></th><th><h4>ACDNB</h4></th><th><h4>Breakeven age</h4></th><th><h4>Last profitable year</h4></th><th><h4>Breakeven probability</h4></th></thead><tbody>';X+="<tr><td>"+H.healthy+"</td><td>"+Q+"</td><td>"+V+"</td><td>"+K+"</td><td>0</td></tr>",X+="<tr><td>"+H.untreated+"</td><td>-</td><td>-</td><td>"+W+"</td><td>1</td></tr>";for(var Y=2;Y<L.length;Y++){for(var Z=L[Y],tt=parseInt(Z.substr(3)),et=[],at=0;tt>at;at++)et[at]=0;for(at=tt;26>at;at++)et[at]=s;var rt=[];for(U in P)rt[U]=d*P[U]-D[U]-et[U];var nt=[];for(U in rt)F=Math.pow(w,U),nt[U]=rt[U]*F;var st=[nt[0]];for(U=1;U<nt.length;U++)st[U]=nt[U]+st[U-1];for(U in st)j.healthy[U]={x:U,y:st[U]},j.untreated[U]={x:U,y:G[U]};A=[];for(U in P)A[U]=P[U]*f[U][Z]/100;var dt=L[Y];M[dt]=[];for(U in P)M[dt][U]={x:U,y:A[U]};B=[];for(U in A)B[U]=d*A[U]-D[U]-et[U];N=[];for(U in B)F=Math.pow(w,U),N[U]=B[U]*F;for(S=[N[0]],U=1;U<N.length;U++)S[U]=N[U]+S[U-1];j[dt]=[];for(U in P)j[dt][U]={x:U,y:S[U]};for(C=[parseInt(et[0])],U=1;U<nt.length;U++)C[U]=parseInt(et[U])+parseInt(C[U-1]);var ot=[];for(U in S)ot[U]=S[U]-G[U];switch(Z){case"25y3":I=ot;break;case"25y5":u=ot;break;case"25y10":v=ot;break;case"50y3":c=ot;break;case"50y5":b=ot;break;case"50y10":k=ot;break;case"75y3":m=ot;break;case"75y5":g=ot;break;case"75y10":x=ot}for(U in S)if(S[U]>G[U]){T[Z]=U;break}for(0===parseInt(T[Z])&&S[0]<=G[0]&&(T[Z]="Never breaks even"),O[Z]=Z.substr(3);B[parseInt(O[Z])+1]<=0&&parseInt(O[Z])<25;)O[Z]++;if(25===parseInt(O[Z]))O[Z]="Treatment never profitable";else for(;B[parseInt(O[Z])+1]>0&&parseInt(O[Z])<25;)O[Z]++;_[Z]=(J[25]-st[25])/(S[25]-st[25]-(G[25]-J[25])),_[Z]>1&&(_[Z]=1),_[Z]=_[Z].toFixed(3);var yt=null!==ot[25]?ot[25].toFixed(2):"-";"-"!==yt&&0>yt?yt="-$"+parseFloat(-1*yt).toFixed(2):"-"!==yt&&(yt="$"+parseFloat(yt).toFixed(2)),X+="<tr><td>"+H[Z]+"</td><td>"+yt+"</td><td>"+T[Z]+"</td><td>"+O[Z]+"</td><td>"+_[Z]+"</td></tr>"}X+='</tbody></table><p class="print-link"><a href="javascript:window.print()"><i class="fa fa-print" aria-hidden="true"></i> Print these results.</a></p><p class="adjust-link"><a href="#regionSelect" onclick="$(\'body,html\').stop(true,true).animate({scrollTop: $(\'#regionSelect\').offset().top - $(\'header\').height()}, \'500\', \'swing\');">Adjust parameters</a></p>',$(".results").html(X),the_figure(M,j),$("body,html").stop(!0,!0).animate({scrollTop:$("#results").offset().top-$("header").height()},"500","swing")})}