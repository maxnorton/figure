function the_table(t,e,a,r,n,s,d,y,o,p,h,i,l){d3.tsv("yield-rates.tsv",function(f){var I=[],u=[],v=[],b=[],c=[],k=[],m=[],g=[],x=[],C=[],D=[],F,w=1/(1+t/100),E=[],j={},M={},A=[],B=[],N=[],T=[],O={healthy:null,untreated:null,"25y3":0,"50y3":0,"75y3":0,"25y5":0,"50y5":0,"75y5":0,"25y10":0,"50y10":0,"75y10":0},_={healthy:null,untreated:null,"25y3":0,"50y3":0,"75y3":0,"25y5":0,"50y5":0,"75y5":0,"25y10":0,"50y10":0,"75y10":0},H={healthy:0,untreated:1,"25y3":0,"50y3":0,"75y3":0,"25y5":0,"50y5":0,"75y5":0,"25y10":0,"50y10":0,"75y10":0},L={healthy:"Healthy, untreated",untreated:"Infected, untreated","25y3":"25% DCE treatment adopted year 3","25y5":"25% DCE treatment adopted year 5","25y10":"25% DCE treatment adopted year 10","50y3":"50% DCE treatment adopted year 3","50y5":"50% DCE treatment adopted year 5","50y10":"50% DCE treatment adopted year 10","75y3":"75% DCE treatment adopted year 3","75y5":"75% DCE treatment adopted year 5","75y10":"75% DCE treatment adopted year 10"},P=Object.keys(L);M.healthy=[],M.untreated=[],j.healthy=[],j.untreated=[];var R=[parseInt(y),parseInt(o),parseInt(p),parseInt(h),parseInt(i),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l),parseInt(l)],S=[];for(var U in R)S[U]=R[U]*f[U].noAction/100,M.healthy[U]={x:U,y:R[U]},M.untreated[U]={x:U,y:S[U]};D=[e,a,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n];var q=[];for(U in S)q[U]=d*S[U]-D[U];var z=[];for(U in q)F=Math.pow(w,U),z[U]=q[U]*F;var G=[z[0]];for(U=1;U<z.length;U++)G[U]=z[U]+G[U-1];var J=[d*R[0]-D[0]],K="-";for(U=1;U<R.length;U++)F=Math.pow(w,U),J[U]=(d*R[U]-D[U])*F+J[parseInt(U-1)],J[U]>J[parseInt(U-1)]&&(K=U);var Q=J[25]-G[25];Q=0>Q?"-$"+parseFloat(-1*Q).toFixed(2):"$"+parseFloat(Q).toFixed(2);var V=-1;for(U in J)if(J[U+1]>0){V=U;break}-1===V&&(V="Never breaks even",K="-"),E=[];for(U in J)E[U]=J[U]-G[U];for(var W=0;z[W]<0&&25>W;)W++;if(25===W)W="Untreated vineyard never profitable";else{for(;z[W]>0&&25>W;)W++;W-=1}var X='<hr /><h2>Results</h2><section class="figure-area"></section><h3>Output table</h3><table><thead><th><h4>Scenario</h4></th><th><h4>ACDNB</h4></th><th><h4>Breakeven age</h4></th><th><h4>Last profitable year</h4></th><th><h4>Breakeven probability</h4></th></thead><tbody>';X+="<tr><td>"+L.healthy+"</td><td>"+Q+"</td><td>"+V+"</td><td>"+K+"</td><td>0</td></tr>",X+="<tr><td>"+L.untreated+"</td><td>-</td><td>-</td><td>"+W+"</td><td>1</td></tr>";for(var Y=2;Y<P.length;Y++){for(var Z=P[Y],tt=parseInt(Z.substr(3)),et=[],at=0;tt>at;at++)et[at]=0;for(at=tt;26>at;at++)et[at]=s;var rt=[];for(U in R)rt[U]=d*R[U]-D[U]-et[U];var nt=[];for(U in rt)F=Math.pow(w,U),nt[U]=rt[U]*F;var st=[nt[0]];for(U=1;U<nt.length;U++)st[U]=nt[U]+st[U-1];for(U in st)j.healthy[U]={x:U,y:st[U]},j.untreated[U]={x:U,y:G[U]};A=[];for(U in R)A[U]=R[U]*f[U][Z]/100;var dt=P[Y];M[dt]=[];for(U in R)M[dt][U]={x:U,y:A[U]};B=[];for(U in A)B[U]=d*A[U]-D[U]-et[U];N=[];for(U in B)F=Math.pow(w,U),N[U]=B[U]*F;for(T=[N[0]],U=1;U<N.length;U++)T[U]=N[U]+T[U-1];j[dt]=[];for(U in R)j[dt][U]={x:U,y:T[U]};for(C=[parseInt(et[0])],U=1;U<nt.length;U++)C[U]=parseInt(et[U])+parseInt(C[U-1]);var yt=[];for(U in T)yt[U]=T[U]-G[U];switch(Z){case"25y3":I=yt;break;case"25y5":u=yt;break;case"25y10":v=yt;break;case"50y3":b=yt;break;case"50y5":c=yt;break;case"50y10":k=yt;break;case"75y3":m=yt;break;case"75y5":g=yt;break;case"75y10":x=yt}for(U in T)if(T[U]>G[U]){O[Z]=U;break}for(0===parseInt(O[Z])&&T[0]<=G[0]&&(O[Z]="Never breaks even"),_[Z]=Z.substr(3);B[parseInt(_[Z])+1]<=0&&parseInt(_[Z])<25;)_[Z]++;if(25===parseInt(_[Z]))_[Z]="Treatment never profitable";else for(;B[parseInt(_[Z])+1]>0&&parseInt(_[Z])<25;)_[Z]++;H[Z]=(J[25]-st[25])/(T[25]-st[25]-(G[25]-J[25])),H[Z]>1&&(H[Z]=1),H[Z]=H[Z].toFixed(3);var ot=null!==yt[25]?yt[25].toFixed(2):"-";"-"!==ot&&0>ot?ot="-$"+parseFloat(-1*ot).toFixed(2):"-"!==ot&&(ot="$"+parseFloat(ot).toFixed(2)),X+="<tr><td>"+L[Z]+"</td><td>"+ot+"</td><td>"+O[Z]+"</td><td>"+_[Z]+"</td><td>"+H[Z]+"</td></tr>"}X+='</tbody></table><p class="print-link"><a href="javascript:window.print()"><i class="fa fa-print" aria-hidden="true"></i> Print these results.</a></p><p class="adjust-link"><a href="#figureparameters" onclick="$(\'body,html\').stop(true,true).animate({scrollTop: $(\'#figureparameters\').offset().top - $(\'header\').height()}, \'500\', \'swing\');">Adjust parameters</a></p>',$(".results").html(X),the_figure(M,j),$("body,html").stop(!0,!0).animate({scrollTop:$("#results").offset().top-$("header").height()},"500","swing")})}